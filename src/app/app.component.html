<div class="container mt-5">
  <div class="mt-5">
    <div *ngFor="let group of groups; let ig = index;"
         class="mt-3">
      <h4>Group {{ ig }}</h4>
      <h5>Active Tab: {{ group.activeTab }}</h5>
      <ng-container *ngFor="let tab of group.tabs; let i = index">
        <div class="form-check form-check-inline ml-2">
          <input type="checkbox"
                class="form-check-input"
                [ngModel]="tab.checked"
                (ngModelChange)="updateTabs(group, i)">
          <label class="form-check-label">Tab {{ i + 1 }}</label>
        </div>
      </ng-container>

      <tabset>
        <ng-container *ngFor="let tab of group.tabs; let i = index">
          <tab [heading]="tab.title"
               tabOrder="{{i}}"
               [active]="group.activeTab === i"
               (selectTab)="onSelect($event, group, i)"
               *ngIf="tab.checked">
            {{ tab.content }}
          </tab>
        </ng-container>
      </tabset>
    </div>
  </div>

</div>
